<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Draw a right triangle on grid</title>
</head>
<body onload="draw();">
    <canvas id="canvas" width="60" height="60"></canvas>

    <script>
        function draw() {
            const location = prompt("What location should the triangle be drawn?");
            //cal the api here

            var url = "localhost:399905/Triangle/GetTriangleCoordinatesByLocation/A1";
            var request = new XMLHttpRequest();
            request.open("GET", url, location);
            request.setRequestHeader("Content-Type", "application/json");

            //request.onreadystatechange = function () {
            //    if (request.readyState == 4 && request.status == 200) {
            //        var response = JSON.parse(request.responseText);
            //        alert("made it");
            //    }
            //}

            var response = JSON.parse(request.responseText);
            alert("made it");
            var canvas = document.getElementById('canvas');

            if (canvas.getContext) {

                let grid = {
                    width: 6,
                    height: 6
                }

                const canvasHeight = 60;
                const canvasWidth = 60;

                var context = canvas.getContext('2d');

                canvas.width = 60;
                canvas.height = 60;
                canvas.style.border = "1px solid black"
                context.beginPath();
                context.lineWidth = 1;
                context.lineStyle = "black";

                for (let x = 0; x < canvasHeight; x += canvasHeight / grid.height) {
                    context.moveTo(x, 0)
                    context.lineTo(x, canvasHeight)
                }
                for (let y = 0; y < canvasWidth; y += canvasWidth / grid.width) {
                    context.moveTo(0, y)
                    context.lineTo(canvasWidth, y)
                }
                context.stroke();
                document.body.appendChild(canvas);



                context.beginPath();
                context.moveTo(60, 60);
                context.lineTo(50, 60);
                context.lineTo(50, 50);
                context.fill();
            }
        }

    </script>
</body>
</html>
